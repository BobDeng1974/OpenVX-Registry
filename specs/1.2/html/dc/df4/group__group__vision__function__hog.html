<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>The OpenVX Specification: HOG</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../OpenVX_170px_June16.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The OpenVX Specification
   &#160;<span id="projectnumber">dba1aa3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/df4/group__group__vision__function__hog.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HOG<div class="ingroups"><a class="el" href="../../da/db6/group__group__vision__functions.html">Vision Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Extracts Histogram of Oriented Gradients features from the input grayscale image. </p>
<p>The Histogram of Oriented Gradients (HOG) vision function is split into two nodes <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#ga7eab4159671a5e928d00a01605b8cf19">vxHOGCellsNode</a></code> and <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#gab86f79b46663b3117ce9681cdcf8e0de">vxHOGFeaturesNode</a></code>. The specification of these nodes cover a subset of possible HOG implementations. The <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#ga7eab4159671a5e928d00a01605b8cf19">vxHOGCellsNode</a></code> calculates the gradient orientation histograms and average gradient magnitudes for each of the cells. The <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#gab86f79b46663b3117ce9681cdcf8e0de">vxHOGFeaturesNode</a></code> uses the cell histograms and optionally the average gradient magnitude of the cells to produce a HOG feature vector. This involves grouping up the cell histograms into blocks which are then normalized. A moving window is applied to the input image and for each location the block data associated with the window is concatenated to the HOG feature vector. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:d4/d26/structvx__hog__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">vx_hog_t</a></td></tr>
<tr class="memdesc:d4/d26/structvx__hog__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">The HOG descriptor structure.  <a href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">More...</a><br /></td></tr>
<tr class="separator:d4/d26/structvx__hog__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7eab4159671a5e928d00a01605b8cf19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d4/dae/group__group__basic__features.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#ga7eab4159671a5e928d00a01605b8cf19">vxHOGCellsNode</a> (<a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a> graph, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> input, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a> cell_width, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a> cell_height, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a> num_bins, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> magnitudes, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> bins)</td></tr>
<tr class="memdesc:ga7eab4159671a5e928d00a01605b8cf19"><td class="mdescLeft">&#160;</td><td class="mdescRight">[Graph] Performs cell calculations for the average gradient magnitude and gradient orientation histograms.  <a href="#ga7eab4159671a5e928d00a01605b8cf19">More...</a><br /></td></tr>
<tr class="separator:ga7eab4159671a5e928d00a01605b8cf19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab86f79b46663b3117ce9681cdcf8e0de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d4/dae/group__group__basic__features.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#gab86f79b46663b3117ce9681cdcf8e0de">vxHOGFeaturesNode</a> (<a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a> graph, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> input, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> magnitudes, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> bins, const <a class="el" href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">vx_hog_t</a> *params, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga46d89d47ad9a2de1de723d0db861d324">vx_size</a> hog_param_size, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> features)</td></tr>
<tr class="memdesc:gab86f79b46663b3117ce9681cdcf8e0de"><td class="mdescLeft">&#160;</td><td class="mdescRight">[Graph] The node produces HOG features for the W1xW2 window in a sliding window fashion over the whole input image. Each position produces a HOG feature vector.  <a href="#gab86f79b46663b3117ce9681cdcf8e0de">More...</a><br /></td></tr>
<tr class="separator:gab86f79b46663b3117ce9681cdcf8e0de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7882607ba76bb85754207158c3295a43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga64df90a05ff50c048d65ab77bc60e4f0">vx_status</a> <a class="el" href="../../d4/dae/group__group__basic__features.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#ga7882607ba76bb85754207158c3295a43">vxuHOGCells</a> (<a class="el" href="../../d1/dc3/group__group__context.html#ga0f4f894d935fbf50bf38b3529a001249">vx_context</a> context, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> input, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a> cell_width, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a> cell_height, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a> num_bins, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> magnitudes, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> bins)</td></tr>
<tr class="memdesc:ga7882607ba76bb85754207158c3295a43"><td class="mdescLeft">&#160;</td><td class="mdescRight">[Immediate] Performs cell calculations for the average gradient magnitude and gradient orientation histograms.  <a href="#ga7882607ba76bb85754207158c3295a43">More...</a><br /></td></tr>
<tr class="separator:ga7882607ba76bb85754207158c3295a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa34fa784c40d625d69884e17a17f3e56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga64df90a05ff50c048d65ab77bc60e4f0">vx_status</a> <a class="el" href="../../d4/dae/group__group__basic__features.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#gaa34fa784c40d625d69884e17a17f3e56">vxuHOGFeatures</a> (<a class="el" href="../../d1/dc3/group__group__context.html#ga0f4f894d935fbf50bf38b3529a001249">vx_context</a> context, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> input, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> magnitudes, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> bins, const <a class="el" href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">vx_hog_t</a> *params, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga46d89d47ad9a2de1de723d0db861d324">vx_size</a> hog_param_size, <a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a> features)</td></tr>
<tr class="memdesc:gaa34fa784c40d625d69884e17a17f3e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">[Immediate] Computes Histogram of Oriented Gradients features for the W1xW2 window in a sliding window fashion over the whole input image.  <a href="#gaa34fa784c40d625d69884e17a17f3e56">More...</a><br /></td></tr>
<tr class="separator:gaa34fa784c40d625d69884e17a17f3e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="d4/d26/structvx__hog__t" id="d4/d26/structvx__hog__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct vx_hog_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The HOG descriptor structure. </p>

<p>Definition at line <a class="el" href="../../dd/d86/vx__types_8h_source.html#l01699">1699</a> of file <a class="el" href="../../dd/d86/vx__types_8h_source.html">vx_types.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a696e065e84e0b7c27b4adb30257c6a62"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a></td>
<td class="fieldname">
cell_width</td>
<td class="fielddoc">
The histogram cell width of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a8e192db9aace2e342fb876d2c270333f"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a></td>
<td class="fieldname">
cell_height</td>
<td class="fielddoc">
The histogram cell height of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a747fa5956db0924a5a38870a5b343a79"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a></td>
<td class="fieldname">
block_width</td>
<td class="fielddoc">
The histogram block width of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. Must be divisible by cell_width. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a1e0e4fe918a0900a951c0ed82e515153"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a></td>
<td class="fieldname">
block_height</td>
<td class="fielddoc">
The histogram block height of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. Must be divisible by cell_height. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aff4ffef3d0b8ba2a05013ac2304d7d4c"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a></td>
<td class="fieldname">
block_stride</td>
<td class="fielddoc">
The histogram block stride within the window of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. Must be an integral number of cell_width and cell_height. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6606e933d476db05563235b375aec53c"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a></td>
<td class="fieldname">
num_bins</td>
<td class="fielddoc">
The histogram size of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5bb0c7e42184a06a226304489f2e1fca"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a></td>
<td class="fieldname">
window_width</td>
<td class="fielddoc">
The feature descriptor window width of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code> </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa00b50ca5501b5e812dfff9f3a0be6f8"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a></td>
<td class="fieldname">
window_height</td>
<td class="fielddoc">
The feature descriptor window height of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code> </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6c49355bb9db069471aa0f0e6e160323"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a></td>
<td class="fieldname">
window_stride</td>
<td class="fielddoc">
The feature descriptor window stride of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code> </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0c779dd7d0e6247ecad2a5ff5dd913af"></a><a class="el" href="../../d4/dae/group__group__basic__features.html#gaf14ad5e46a20640307420a745d199e1d">vx_float32</a></td>
<td class="fieldname">
threshold</td>
<td class="fielddoc">
The threshold for the maximum L2-norm value for a histogram bin. It is used as part of block normalization. It defaults to 0.2. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga7eab4159671a5e928d00a01605b8cf19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d4/dae/group__group__basic__features.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a> vxHOGCellsNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a>&#160;</td>
          <td class="paramname"><em>graph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a>&#160;</td>
          <td class="paramname"><em>cell_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a>&#160;</td>
          <td class="paramname"><em>cell_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a>&#160;</td>
          <td class="paramname"><em>num_bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>magnitudes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>bins</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[Graph] Performs cell calculations for the average gradient magnitude and gradient orientation histograms. </p>
<p>Firstly, the gradient magnitude and gradient orientation are computed for each pixel in the input image. Two 1-D centred, point discrete derivative masks are applied to the input image in the horizontal and vertical directions. </p><p class="formulaDsp">
\[ M_h = [-1, 0, 1] \]
</p>
<p> and </p><p class="formulaDsp">
\[ M_v = [-1, 0, 1]^T \]
</p>
<p> \(G_v\) is the result of applying mask \(M_v\) to the input image, and \(G_h\) is the result of applying mask \(M_h\) to the input image. The border mode used for the gradient calculation is implementation dependent. Its behavior should be similar to <code><a class="el" href="../../dc/de4/group__group__borders.html#gga2430709469c374c6fadfac72abbbcbb4aef25f2567896eb2dda48c2869030664f">VX_BORDER_UNDEFINED</a></code>. The gradient magnitudes and gradient orientations for each pixel are then calculated in the following manner. </p><p class="formulaDsp">
\[ G(x,y) = \sqrt{G_v(x,y)^2 + G_h(x,y)^2} \]
</p>
 <p class="formulaDsp">
\[ \theta(x,y) = arctan(G_v(x,y), G_h(x,y)) \]
</p>
<p> where \(arctan(v, h)\) is \( tan^{-1}(v/h)\) when \(h!=0\),</p>
<p>\( -pi/2 \) if \(v&lt;0\) and \(h==0\),</p>
<p>\( pi/2 \) if \(v&gt;0\) and \(h==0\)</p>
<p>and \( 0 \) if \(v==0\) and \(h==0\)</p>
<p>Secondly, the gradient magnitudes and orientations are used to compute the bins output tensor and optional magnitudes output tensor. These tensors are computed on a cell level where the cells are rectangular in shape. The magnitudes tensor contains the average gradient magnitude for each cell. </p><p class="formulaDsp">
\[magnitudes(c) = \frac{1}{(cell\_width * cell\_height)}\sum\limits_{w=0}^{cell\_width} \sum\limits_{h=0}^{cell\_height} G_c(w,h)\]
</p>
<p> where \(G_c\) is the gradient magnitudes related to cell \(c\). The bins tensor contains histograms of gradient orientations for each cell. The gradient orientations at each pixel range from 0 to 360 degrees. These are quantised into a set of histogram bins based on the num_bins parameter. Each pixel votes for a specific cell histogram bin based on its gradient orientation. The vote itself is the pixel's gradient magnitude. </p><p class="formulaDsp">
\[bins(c, n) = \sum\limits_{w=0}^{cell\_width} \sum\limits_{h=0}^{cell\_height} G_c(w,h) * 1[B_c(w, h, num\_bins) == n]\]
</p>
<p> where \(B_c\) produces the histogram bin number based on the gradient orientation of the pixel at location ( \(w\), \(h\)) in cell \(c\) based on the \(num\_bins\) and </p><p class="formulaDsp">
\[1[B_c(w, h, num\_bins) == n]\]
</p>
<p> is a delta-function with value 1 when \(B_c(w, h, num\_bins) == n\) or 0 otherwise. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">graph</td><td>The reference to the graph. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input image of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga249dd49823433ffa16cf2e60ed25b7f1ad57c5881488a19029a9ce095f13932cb">VX_DF_IMAGE_U8</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cell_width</td><td>The histogram cell width of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cell_height</td><td>The histogram cell height of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_bins</td><td>The histogram size of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">magnitudes</td><td>(Optional) The output average gradient magnitudes per cell of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code> of size \( [floor(image_{width}/cell_{width}) ,floor(image_{height}/cell_{height}) ] \). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bins</td><td>The output gradient orientation histograms per cell of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code> of size \( [floor(image_{width}/cell_{width}) ,floor(image_{height}/cell_{height}), num_{bins}] \). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a></code>. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Node could not be created. </td></tr>
    <tr><td class="paramname">*</td><td>Node handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab86f79b46663b3117ce9681cdcf8e0de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d4/dae/group__group__basic__features.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a> vxHOGFeaturesNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a>&#160;</td>
          <td class="paramname"><em>graph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>magnitudes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">vx_hog_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga46d89d47ad9a2de1de723d0db861d324">vx_size</a>&#160;</td>
          <td class="paramname"><em>hog_param_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[Graph] The node produces HOG features for the W1xW2 window in a sliding window fashion over the whole input image. Each position produces a HOG feature vector. </p>
<p>Firstly if a magnitudes tensor is provided the cell histograms in the bins tensor are normalised by the average cell gradient magnitudes. </p><p class="formulaDsp">
\[bins(c,n) = \frac{bins(c,n)}{magnitudes(c)}\]
</p>
<p> To account for changes in illumination and contrast the cell histograms must be locally normalized which requires grouping the cell histograms together into larger spatially connected blocks. Blocks are rectangular grids represented by three parameters: the number of cells per block, the number of pixels per cell, and the number of bins per cell histogram. These blocks typically overlap, meaning that each cell histogram contributes more than once to the final descriptor. To normalize a block its cell histograms \(h\) are grouped together to form a vector \(v = [h_1, h_2, h_3, ... , h_n]\). This vector is normalised using L2-Hys which means performing L2-norm on this vector; clipping the result (by limiting the maximum values of v to be threshold) and renormalizing again. If the threshold is equal to zero then L2-Hys normalization is not performed. </p><p class="formulaDsp">
\[L2norm(v) = \frac{v}{\sqrt{\|v\|_2^2 + \epsilon^2}}\]
</p>
<p> where \( \|v\|_k \) be its k-norm for k=1, 2, and \( \epsilon \) be a small constant. For a specific window its HOG descriptor is then the concatenated vector of the components of the normalized cell histograms from all of the block regions contained in the window. The W1xW2 window starting position is at coordinates 0x0. If the input image has dimensions that are not an integer multiple of W1xW2 blocks with the specified stride, then the last positions that contain only a partial W1xW2 window will be calculated with the remaining part of the W1xW2 window padded with zeroes. The Window W1xW2 must also have a size so that it contains an integer number of cells, otherwise the node is not well-defined. The final output tensor will contain HOG descriptors equal to the number of windows in the input image. The output features tensor has 3 dimensions, given by:<br />
 </p><p class="formulaDsp">
\[[ (floor((image_{width}-window_{width})/window_{stride}) + 1),\]
</p>
 <p class="formulaDsp">
\[ (floor((image_{height}-window_{height})/window_{stride}) + 1),\]
</p>
 <p class="formulaDsp">
\[ floor((window_{width} - block_{width})/block_{stride} + 1) * floor((window_{height} - block_{height})/block_{stride} + 1) *\]
</p>
 <p class="formulaDsp">
\[ (((block_{width} * block_{height}) / (cell_{width} * cell_{height})) * num_{bins})] \]
</p>
<p> See <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#gadbdf17ec3c874de20733e59330990925">vxCreateTensor</a></code> and <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#gaea864d8c3bb3a8346134bc552d05b65a">vxCreateVirtualTensor</a></code>. We recommend the output tensors always be <em>virtual</em> objects, with this node connected directly to the classifier. The output tensor will be very large, and using non-virtual tensors will result in a poorly optimized implementation. Merging of this node with a classifier node such as that described in the classifier extension will result in better performance. Notice that this node creation function has more parameters than the corresponding kernel. Numbering of kernel parameters (required if you create this node using the generic interface) is explicitly specified here. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">graph</td><td>The reference to the graph. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input image of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga249dd49823433ffa16cf2e60ed25b7f1ad57c5881488a19029a9ce095f13932cb">VX_DF_IMAGE_U8</a></code>. (Kernel parameter #0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">magnitudes</td><td>(Optional) The gradient magnitudes per cell of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code>. It is the output of <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#ga7eab4159671a5e928d00a01605b8cf19">vxHOGCellsNode</a></code>. (Kernel parameter #1) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bins</td><td>The gradient orientation histograms per cell of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code>. It is the output of <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#ga7eab4159671a5e928d00a01605b8cf19">vxHOGCellsNode</a></code>. (Kernel parameter #2) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>The parameters of type <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">vx_hog_t</a></code>. (Kernel parameter #3) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hog_param_size</td><td>Size of <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">vx_hog_t</a></code> in bytes. Note that this parameter is not counted as one of the kernel parameters. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">features</td><td>The output HOG features of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code>. (Kernel parameter #4) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a></code>. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Node could not be created. </td></tr>
    <tr><td class="paramname">*</td><td>Node handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7882607ba76bb85754207158c3295a43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga64df90a05ff50c048d65ab77bc60e4f0">vx_status</a> <a class="el" href="../../d4/dae/group__group__basic__features.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a> vxuHOGCells </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dc3/group__group__context.html#ga0f4f894d935fbf50bf38b3529a001249">vx_context</a>&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a>&#160;</td>
          <td class="paramname"><em>cell_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a>&#160;</td>
          <td class="paramname"><em>cell_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a>&#160;</td>
          <td class="paramname"><em>num_bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>magnitudes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>bins</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[Immediate] Performs cell calculations for the average gradient magnitude and gradient orientation histograms. </p>
<p>Firstly, the gradient magnitude and gradient orientation are computed for each pixel in the input image. Two 1-D centred, point discrete derivative masks are applied to the input image in the horizontal and vertical directions. </p><p class="formulaDsp">
\[ M_h = [-1, 0, 1] \]
</p>
<p> and </p><p class="formulaDsp">
\[ M_v = [-1, 0, 1]^T \]
</p>
<p> \(G_v\) is the result of applying mask \(M_v\) to the input image, and \(G_h\) is the result of applying mask \(M_h\) to the input image. The border mode used for the gradient calculation is implementation dependent. Its behavior should be similar to <code><a class="el" href="../../dc/de4/group__group__borders.html#gga2430709469c374c6fadfac72abbbcbb4aef25f2567896eb2dda48c2869030664f">VX_BORDER_UNDEFINED</a></code>. The gradient magnitudes and gradient orientations for each pixel are then calculated in the following manner. </p><p class="formulaDsp">
\[ G(x,y) = \sqrt{G_v(x,y)^2 + G_h(x,y)^2} \]
</p>
 <p class="formulaDsp">
\[ \theta(x,y) = arctan(G_v(x,y), G_h(x,y)) \]
</p>
<p> where \(arctan(v, h)\) is \( tan^{-1}(v/h)\) when \(h!=0\),</p>
<p>\( -pi/2 \) if \(v&lt;0\) and \(h==0\),</p>
<p>\( pi/2 \) if \(v&gt;0\) and \(h==0\)</p>
<p>and \( 0 \) if \(v==0\) and \(h==0\)</p>
<p>Secondly, the gradient magnitudes and orientations are used to compute the bins output tensor and optional magnitudes output tensor. These tensors are computed on a cell level where the cells are rectangular in shape. The magnitudes tensor contains the average gradient magnitude for each cell. </p><p class="formulaDsp">
\[magnitudes(c) = \frac{1}{(cell\_width * cell\_height)}\sum\limits_{w=0}^{cell\_width} \sum\limits_{h=0}^{cell\_height} G_c(w,h)\]
</p>
<p> where \(G_c\) is the gradient magnitudes related to cell \(c\). The bins tensor contains histograms of gradient orientations for each cell. The gradient orientations at each pixel range from 0 to 360 degrees. These are quantised into a set of histogram bins based on the num_bins parameter. Each pixel votes for a specific cell histogram bin based on its gradient orientation. The vote itself is the pixel's gradient magnitude. </p><p class="formulaDsp">
\[bins(c, n) = \sum\limits_{w=0}^{cell\_width} \sum\limits_{h=0}^{cell\_height} G_c(w,h) * 1[B_c(w, h, num\_bins) == n]\]
</p>
<p> where \(B_c\) produces the histogram bin number based on the gradient orientation of the pixel at location ( \(w\), \(h\)) in cell \(c\) based on the \(num\_bins\) and </p><p class="formulaDsp">
\[1[B_c(w, h, num\_bins) == n]\]
</p>
<p> is a delta-function with value 1 when \(B_c(w, h, num\_bins) == n\) or 0 otherwise. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The reference to the overall context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input image of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga249dd49823433ffa16cf2e60ed25b7f1ad57c5881488a19029a9ce095f13932cb">VX_DF_IMAGE_U8</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cell_width</td><td>The histogram cell width of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cell_height</td><td>The histogram cell height of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_bins</td><td>The histogram size of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6ae97bf24e47e1b7bbafccbbccf1daa5ca">VX_TYPE_INT32</a></code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">magnitudes</td><td>The output average gradient magnitudes per cell of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code> of size \( [floor(image_{width}/cell_{width}) ,floor(image_{height}/cell_{height}) ] \). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bins</td><td>The output gradient orientation histograms per cell of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code> of size \( [floor(image_{width}/cell_{width}) ,floor(image_{height}/cell_{height}), num_{bins}] \).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gaa2387ff4d3e967f124fb316300503f92">vx_status_e</a></code> enumeration. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">VX_SUCCESS</td><td>Success </td></tr>
    <tr><td class="paramname">*</td><td>An error occurred. See <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gaa2387ff4d3e967f124fb316300503f92">vx_status_e</a></code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa34fa784c40d625d69884e17a17f3e56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga64df90a05ff50c048d65ab77bc60e4f0">vx_status</a> <a class="el" href="../../d4/dae/group__group__basic__features.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a> vxuHOGFeatures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dc3/group__group__context.html#ga0f4f894d935fbf50bf38b3529a001249">vx_context</a>&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>magnitudes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">vx_hog_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga46d89d47ad9a2de1de723d0db861d324">vx_size</a>&#160;</td>
          <td class="paramname"><em>hog_param_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a>&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[Immediate] Computes Histogram of Oriented Gradients features for the W1xW2 window in a sliding window fashion over the whole input image. </p>
<p>Firstly if a magnitudes tensor is provided the cell histograms in the bins tensor are normalised by the average cell gradient magnitudes. </p><p class="formulaDsp">
\[bins(c,n) = \frac{bins(c,n)}{magnitudes(c)}\]
</p>
<p> To account for changes in illumination and contrast the cell histograms must be locally normalized which requires grouping the cell histograms together into larger spatially connected blocks. Blocks are rectangular grids represented by three parameters: the number of cells per block, the number of pixels per cell, and the number of bins per cell histogram. These blocks typically overlap, meaning that each cell histogram contributes more than once to the final descriptor. To normalize a block its cell histograms \(h\) are grouped together to form a vector \(v = [h_1, h_2, h_3, ... , h_n]\). This vector is normalised using L2-Hys which means performing L2-norm on this vector; clipping the result (by limiting the maximum values of v to be threshold) and renormalizing again. If the threshold is equal to zero then L2-Hys normalization is not performed. </p><p class="formulaDsp">
\[L2norm(v) = \frac{v}{\sqrt{\|v\|_2^2 + \epsilon^2}}\]
</p>
<p> where \( \|v\|_k \) be its k-norm for k=1, 2, and \( \epsilon \) be a small constant. For a specific window its HOG descriptor is then the concatenated vector of the components of the normalized cell histograms from all of the block regions contained in the window. The W1xW2 window starting position is at coordinates 0x0. If the input image has dimensions that are not an integer multiple of W1xW2 blocks with the specified stride, then the last positions that contain only a partial W1xW2 window will be calculated with the remaining part of the W1xW2 window padded with zeroes. The Window W1xW2 must also have a size so that it contains an integer number of cells, otherwise the node is not well-defined. The final output tensor will contain HOG descriptors equal to the number of windows in the input image. The output features tensor has 3 dimensions, given by:<br />
 </p><p class="formulaDsp">
\[[ (floor((image_{width}-window_{width})/window_{stride}) + 1),\]
</p>
 <p class="formulaDsp">
\[ (floor((image_{height}-window_{height})/window_{stride}) + 1),\]
</p>
 <p class="formulaDsp">
\[ floor((window_{width} - block_{width})/block_{stride} + 1) * floor((window_{height} - block_{height})/block_{stride} + 1) *\]
</p>
 <p class="formulaDsp">
\[ (((block_{width} * block_{height}) / (cell_{width} * cell_{height})) * num_{bins})] \]
</p>
<p> See <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#gadbdf17ec3c874de20733e59330990925">vxCreateTensor</a></code> and <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#gaea864d8c3bb3a8346134bc552d05b65a">vxCreateVirtualTensor</a></code>. The output tensor from this function may be very large. For this reason, is it not recommended that this "immediate mode" version of the function be used. The preferred method to perform this function is as graph node with a virtual tensor as the output. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The reference to the overall context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input image of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga249dd49823433ffa16cf2e60ed25b7f1ad57c5881488a19029a9ce095f13932cb">VX_DF_IMAGE_U8</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">magnitudes</td><td>The averge gradient magnitudes per cell of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code>. It is the output of <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#ga7882607ba76bb85754207158c3295a43">vxuHOGCells</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bins</td><td>The gradient orientation histogram per cell of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code>. It is the output of <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#ga7882607ba76bb85754207158c3295a43">vxuHOGCells</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>The parameters of type <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">vx_hog_t</a></code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hog_param_size</td><td>Size of <code><a class="el" href="../../dc/df4/group__group__vision__function__hog.html#d4/d26/structvx__hog__t">vx_hog_t</a></code> in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">features</td><td>The output HOG features of <code><a class="el" href="../../d7/d0f/group__group__object__tensor.html#ga61ce36a3376598180334b1a424dcdcf9">vx_tensor</a></code> of type <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gga44aa67e15168e5912a0800090a120be6a7e6fb8f3de4533c7c4afdb94c9b6eaab">VX_TYPE_INT16</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gaa2387ff4d3e967f124fb316300503f92">vx_status_e</a></code> enumeration. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">VX_SUCCESS</td><td>Success </td></tr>
    <tr><td class="paramname">*</td><td>An error occurred. See <code><a class="el" href="../../d4/dae/group__group__basic__features.html#gaa2387ff4d3e967f124fb316300503f92">vx_status_e</a></code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Oct 11 2017 20:00:06 for The OpenVX Specification by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
