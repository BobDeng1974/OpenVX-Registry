<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The OpenVX Specification: Canny Edge Detector</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../OpenVX_170px_June16.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The OpenVX Specification
   &#160;<span id="projectnumber">a73e458</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d7/d71/group__group__vision__function__canny.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Canny Edge Detector<div class="ingroups"><a class="el" href="../../da/db6/group__group__vision__functions.html">Vision Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides a Canny edge detector kernel. </p>
<p>This function implements an edge detection algorithm similar to that described in <a class="el" href="../../d0/de3/citelist.html#CITEREF_Canny1986">[2]</a>. The main components of the algorithm are: </p><ul>
<li>Gradient magnitude and orientation computation using a noise resistant operator (Sobel). </li>
<li>Non-maximum suppression of the gradient magnitude, using the gradient orientation information. </li>
<li>Tracing edges in the modified gradient image using hysteresis thresholding to produce a binary result.</li>
</ul>
<p>The details of each of these steps are described below.</p>
<ul>
<li><b>Gradient Computation:</b> Conceptually, the input image is convolved with vertical and horizontal Sobel kernels of the size indicated by the <em>gradient_size</em> parameter. The Sobel kernels used for the gradient computation shall be as shown below. The two resulting directional gradient images ( \(dx \) and \( dy \)) are then used to compute a gradient magnitude image and a gradient orientation image. The norm used to compute the gradient magnitude is indicated by the <em>norm_type</em> parameter, so the magnitude may be \( |dx| + |dy| \) for <code><a class="el" href="../../d6/de5/group__vx__norm__type__e.html#gacadc0b3cddb850f00063853d26c11ce1">VX_NORM_L1</a></code> or \( \sqrt{dx^{2} + dy^{2}} \) for <code><a class="el" href="../../d6/de5/group__vx__norm__type__e.html#gad12fb7919774cc077486e0803d65f92c">VX_NORM_L2</a></code>. The gradient orientation image is quantized into 4 values: 0, 45, 90, and 135 degrees. </li>
<li>For gradient size 3: <p class="formulaDsp">
\[ \mathbf{sobel}_{x}= \begin{vmatrix} -1 &amp; 0 &amp; 1\\ -2 &amp; 0 &amp; 2\\ -1 &amp; 0 &amp; 1 \end{vmatrix} \]
</p>
</li>
</ul>
<p class="formulaDsp">
\[ \mathbf{sobel}_{y}=transpose({sobel}_{x})= \begin{vmatrix} -1 &amp; -2 &amp; -1\\ 0 &amp; 0 &amp; 0\\ 1 &amp; 2 &amp; 1 \end{vmatrix} \]
</p>
<ul>
<li>For gradient size 5: <p class="formulaDsp">
\[ \mathbf{sobel}_{x}= \begin{vmatrix} -1 &amp; -2 &amp; 0 &amp; 2 &amp; 1\\ -4 &amp; -8 &amp; 0 &amp; 8 &amp; 4\\ -6 &amp; -12 &amp; 0 &amp; 12 &amp; 6\\ -4 &amp; -8 &amp; 0 &amp; 8 &amp; 4\\ -1 &amp; -2 &amp; 0 &amp; 2 &amp; 1\\ \end{vmatrix} \]
</p>
 <p class="formulaDsp">
\[ \mathbf{sobel}_{y}=transpose({sobel}_{x}) \]
</p>
</li>
</ul>
<ul>
<li>For gradient size 7: <p class="formulaDsp">
\[ \mathbf{sobel}_{x}= \begin{vmatrix} -1 &amp; -4 &amp; -5 &amp; 0 &amp; 5 &amp; 4 &amp; 1\\ -6 &amp; -24 &amp; -30 &amp; 0 &amp; 30 &amp; 24 &amp; 6\\ -15 &amp; -60 &amp; -75 &amp; 0 &amp; 75 &amp; 60 &amp; 15\\ -20 &amp; -80 &amp; -100 &amp; 0 &amp; 100 &amp; 80 &amp; 20\\ -15 &amp; -60 &amp; -75 &amp; 0 &amp; 75 &amp; 60 &amp; 15\\ -6 &amp; -24 &amp; -30 &amp; 0 &amp; 30 &amp; 24 &amp; 6\\ -1 &amp; -4 &amp; -5 &amp; 0 &amp; 5 &amp; 4 &amp; 1\\ \end{vmatrix} \]
</p>
 <p class="formulaDsp">
\[ \mathbf{sobel}_{y}=transpose({sobel}_{x}) \]
</p>
</li>
</ul>
<ul>
<li><b>Non-Maximum Suppression:</b> This is then applied such that a pixel is retained as a potential edge pixel if and only if its magnitude is greater than or equal to the pixels in the direction perpendicular to its edge orientation. For example, if the pixel's orientation is 0 degrees, it is only retained if its gradient magnitude is larger than that of the pixels at 90 and 270 degrees to it. If a pixel is suppressed via this condition, it must not appear as an edge pixel in the final output, i.e., its value must be 0 in the final output. </li>
<li><b>Edge Tracing:</b> The final edge pixels in the output are identified via a double thresholded hysteresis procedure. All retained pixels with magnitude above the <em>high</em> threshold are marked as known edge pixels (valued 255) in the final output image. All pixels with magnitudes less than or equal to the <em>low</em> threshold must not be marked as edge pixels in the final output. For the pixels in between the thresholds, edges are traced and marked as edges (255) in the output. This can be done by starting at the known edge pixels and moving in all eight directions recursively until the gradient magnitude is less than or equal to the low threshold. </li>
<li><b>Caveats:</b> The intermediate results described above are conceptual only; so for example, the implementation may not actually construct the gradient images and non-maximum-suppressed images. Only the final binary (0 or 255 valued) output image must be computed so that it matches the result of a final image constructed as described above [<em>R00032</em>]. </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:d6/de5/group__vx__norm__type__e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de5/group__vx__norm__type__e.html">Normalization type constants.</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab20e1350dcdf517a12c472ddfb9ac68d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d6/d15/group__macros__and__constants.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d71/group__group__vision__function__canny.html#gab20e1350dcdf517a12c472ddfb9ac68d">vxCannyEdgeDetectorNode</a> (<a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a> graph, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> input, <a class="el" href="../../de/dbe/group__group__threshold.html#ga264c4cd16ce3d3c12462217c30877004">vx_threshold</a> hyst, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a> gradient_size, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga73d23cb932d31a69f44182054a987c85">vx_enum</a> norm_type, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> output)</td></tr>
<tr class="memdesc:gab20e1350dcdf517a12c472ddfb9ac68d"><td class="mdescLeft">&#160;</td><td class="mdescRight">[Graph] Creates a Canny Edge Detection Node.  <a href="#gab20e1350dcdf517a12c472ddfb9ac68d">More...</a><br /></td></tr>
<tr class="separator:gab20e1350dcdf517a12c472ddfb9ac68d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab20e1350dcdf517a12c472ddfb9ac68d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab20e1350dcdf517a12c472ddfb9ac68d">&#9670;&nbsp;</a></span>vxCannyEdgeDetectorNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d6/d15/group__macros__and__constants.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a> vxCannyEdgeDetectorNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a>&#160;</td>
          <td class="paramname"><em>graph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dbe/group__group__threshold.html#ga264c4cd16ce3d3c12462217c30877004">vx_threshold</a>&#160;</td>
          <td class="paramname"><em>hyst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a>&#160;</td>
          <td class="paramname"><em>gradient_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga73d23cb932d31a69f44182054a987c85">vx_enum</a>&#160;</td>
          <td class="paramname"><em>norm_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[Graph] Creates a Canny Edge Detection Node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">graph</td><td>The reference to the graph [<em>R00338</em>]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input <code><a class="el" href="../../d3/d92/group__vx__df__image__e.html#ga19786ae39187f0b21d01e6d4c0e43dd8">VX_DF_IMAGE_U8</a></code> image [<em>R00339</em>]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hyst</td><td>The double threshold for hysteresis [<em>R00340</em>]. The threshold data_type shall be either <code><a class="el" href="../../da/d1b/group__vx__type__e.html#ga32ea2bb04221888d11cc7c9a0f258258">VX_TYPE_UINT8</a></code> or <code><a class="el" href="../../da/d1b/group__vx__type__e.html#gae376a65987a2b5f3eeb47523a4efd39a">VX_TYPE_INT16</a></code> [<em>R00341</em>]. The <code><a class="el" href="../../df/d94/group__vx__threshold__attribute__e.html#ga764adf3f55ce9fc2b340c1c7f04cdf18">VX_THRESHOLD_TRUE_VALUE</a></code> and <code><a class="el" href="../../df/d94/group__vx__threshold__attribute__e.html#ga6f5bfcf447d8a31aa5ac3d9bef955a45">VX_THRESHOLD_FALSE_VALUE</a></code> of <code><a class="el" href="../../de/dbe/group__group__threshold.html#ga264c4cd16ce3d3c12462217c30877004">vx_threshold</a></code> are ignored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gradient_size</td><td>The size of the Sobel filter window, must support at least 3, 5, and 7 [<em>R00342</em>]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">norm_type</td><td>A flag indicating the norm used to compute the gradient, <code><a class="el" href="../../d6/de5/group__vx__norm__type__e.html#gacadc0b3cddb850f00063853d26c11ce1">VX_NORM_L1</a></code> or VX_NORM_L2 [<em>R00343</em>]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>The output image in <code><a class="el" href="../../d3/d92/group__vx__df__image__e.html#ga19786ae39187f0b21d01e6d4c0e43dd8">VX_DF_IMAGE_U8</a></code> format with values either 0 or 255 [<em>R00344</em>].</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a></code>. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">vx_node</td><td>A node reference. Any possible errors preventing a successful creation should be checked using <code><a class="el" href="../../d4/dae/group__group__basic__features.html#ga9ff8fafafe415f56a02e6a1825baac97">vxGetStatus</a></code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Mar 9 2017 21:39:52 for The OpenVX Specification by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
