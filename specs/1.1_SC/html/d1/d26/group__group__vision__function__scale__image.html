<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The OpenVX Specification: Scale Image</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../OpenVX_170px_June16.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The OpenVX Specification
   &#160;<span id="projectnumber">a73e458</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/d26/group__group__vision__function__scale__image.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Scale Image<div class="ingroups"><a class="el" href="../../da/db6/group__group__vision__functions.html">Vision Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Implements the Image Resizing Kernel. </p>
<p>This kernel resizes an image from the source to the destination dimensions. The supported interpolation types are currently: </p><ul>
<li><code><a class="el" href="../../d6/d78/group__vx__interpolation__type__e.html#ga3cda03eec155a4e08872bfb74e87de49">VX_INTERPOLATION_NEAREST_NEIGHBOR</a></code> [<em>R00108</em>] </li>
<li><code><a class="el" href="../../d6/d78/group__vx__interpolation__type__e.html#gadb6bc15fa18f5d07467bb998ee28bcb0">VX_INTERPOLATION_AREA</a></code> [<em>R00109</em>] </li>
<li><code><a class="el" href="../../d6/d78/group__vx__interpolation__type__e.html#ga57c1bd63a2debc5f3c7fbfe94cb495e1">VX_INTERPOLATION_BILINEAR</a></code> [<em>R00110</em>]</li>
</ul>
<p>The sample positions used to determine output pixel values are generated by scaling the outside edges of the source image pixels to the outside edges of the destination image pixels. As described in the documentation for <code><a class="el" href="../../d6/d78/group__vx__interpolation__type__e.html">Interpolation Constants</a></code>, samples are taken at pixel centers. This means that, unless the scale is 1:1, the sample position for the top left destination pixel typically does not fall exactly on the top left source pixel but will be generated by interpolation.</p>
<p>That is, the sample positions corresponding in source and destination are defined by the following equations:</p>
<p class="formulaDsp">
\[ x_{input} = \left((x_{output} + 0.5) * \frac{width_{input}}{width_{output}}\right) - 0.5 \]
</p>
 <p class="formulaDsp">
\[ y_{input} = \left((y_{output} + 0.5) * \frac{height_{input}}{height_{output}}\right) - 0.5 \]
</p>
 <p class="formulaDsp">
\[ x_{output} = \left((x_{input} + 0.5) * \frac{width_{output}}{width_{input}}\right) - 0.5 \]
</p>
 <p class="formulaDsp">
\[ y_{output} = \left((y_{input} + 0.5) * \frac{height_{output}}{height_{input}}\right) - 0.5 \]
</p>
<ul>
<li>For <code><a class="el" href="../../d6/d78/group__vx__interpolation__type__e.html#ga3cda03eec155a4e08872bfb74e87de49">VX_INTERPOLATION_NEAREST_NEIGHBOR</a></code>, the output value is that of the pixel whose centre is closest to the sample point [<em>R00111</em>].</li>
<li><p class="startli">For <code><a class="el" href="../../d6/d78/group__vx__interpolation__type__e.html#ga57c1bd63a2debc5f3c7fbfe94cb495e1">VX_INTERPOLATION_BILINEAR</a></code>, the output value is formed by a weighted average of the nearest source pixels to the sample point [<em>R00112</em>]. That is:</p>
<p class="formulaDsp">
\[ x_{lower} = \lfloor x_{input}\rfloor \]
</p>
 <p class="formulaDsp">
\[ y_{lower} = \lfloor y_{input}\rfloor \]
</p>
 <p class="formulaDsp">
\[ s = x_{input} - x_{lower} \]
</p>
 <p class="formulaDsp">
\[ t = y_{input} - y_{lower} \]
</p>
 <p class="formulaDsp">
\[ output(x_{input},y_{input}) = (1-s)(1-t) * input(x_{lower},y_{lower}) + s(1-t) * input(x_{lower}+1,y_{lower}) \]
</p>
 <p class="formulaDsp">
\[ + (1-s)t * input(x_{lower},y_{lower}+1) + s * t * input(x_{lower}+1,y_{lower}+1) \]
</p>
</li>
<li><p class="startli">For <code><a class="el" href="../../d6/d78/group__vx__interpolation__type__e.html#gadb6bc15fa18f5d07467bb998ee28bcb0">VX_INTERPOLATION_AREA</a></code>, the implementation is expected to generate each output pixel by sampling all the source pixels that are at least partly covered by the area bounded by [<em>R00113</em>]:</p>
<p class="formulaDsp">
\[ \left(x_{output} * \frac{width_{input}}{width_{output}}\right)-0.5, \left(y_{output} * \frac{height_{input}}{height_{output}}\right)-0.5 \]
</p>
<p class="startli">and</p>
<p class="formulaDsp">
\[ \left((x_{output} + 1) * \frac{width_{input}}{width_{output}}\right)-0.5, \left((y_{output} + 1) * \frac{height_{input}}{height_{output}}\right)-0.5 \]
</p>
<p class="startli">The details of this sampling method are implementation-defined. The implementation should perform enough sampling to avoid aliasing, but there is no requirement that the sample areas for adjacent output pixels be disjoint, nor that the pixels be weighted evenly.</p>
</li>
</ul>
<div class="image">
<img src="../../samplingpatterns.png" alt="samplingpatterns.png"/>
</div>
 <p>The above diagram shows three sampling methods used to shrink a 7x3 image to 3x1.</p>
<p>The topmost image pair shows nearest-neighbor sampling, with crosses on the left image marking the sample positions in the source that are used to generate the output image on the right. As the pixel centre closest to the sample position is white in all cases, the resulting 3x1 image is white.</p>
<p>The middle image pair shows bilinear sampling, with black squares on the left image showing the region in the source being sampled to generate each pixel on the destination image on the right. This sample area is always the size of an input pixel. The outer destination pixels partly sample from the outermost green pixels, so their resulting value is a weighted average of white and green.</p>
<p>The bottom image pair shows area sampling. The black rectangles in the source image on the left show the bounds of the projection of the destination pixels onto the source. The destination pixels on the right are formed by averaging at least those source pixels whose areas are wholly or partly contained within those rectangles. The manner of this averaging is implementation-defined; the example shown here weights the contribution of each source pixel by the amount of that pixel's area contained within the black rectangle. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2795503f02ce553fca7fcd33f8ee08cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d6/d15/group__macros__and__constants.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d26/group__group__vision__function__scale__image.html#ga2795503f02ce553fca7fcd33f8ee08cb">vxHalfScaleGaussianNode</a> (<a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a> graph, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> input, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> output, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a> kernel_size)</td></tr>
<tr class="memdesc:ga2795503f02ce553fca7fcd33f8ee08cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">[Graph] Performs a Gaussian Blur on an image then half-scales it. The interpolation mode used is nearest-neighbor.  <a href="#ga2795503f02ce553fca7fcd33f8ee08cb">More...</a><br /></td></tr>
<tr class="separator:ga2795503f02ce553fca7fcd33f8ee08cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga065754e616b553a39c13c16b4b8de45a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d6/d15/group__macros__and__constants.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d26/group__group__vision__function__scale__image.html#ga065754e616b553a39c13c16b4b8de45a">vxScaleImageNode</a> (<a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a> graph, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> src, <a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a> dst, <a class="el" href="../../d4/dae/group__group__basic__features.html#ga73d23cb932d31a69f44182054a987c85">vx_enum</a> type)</td></tr>
<tr class="memdesc:ga065754e616b553a39c13c16b4b8de45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">[Graph] Creates a Scale Image Node.  <a href="#ga065754e616b553a39c13c16b4b8de45a">More...</a><br /></td></tr>
<tr class="separator:ga065754e616b553a39c13c16b4b8de45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga065754e616b553a39c13c16b4b8de45a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga065754e616b553a39c13c16b4b8de45a">&#9670;&nbsp;</a></span>vxScaleImageNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d6/d15/group__macros__and__constants.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a> vxScaleImageNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a>&#160;</td>
          <td class="paramname"><em>graph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga73d23cb932d31a69f44182054a987c85">vx_enum</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[Graph] Creates a Scale Image Node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">graph</td><td>The reference to the graph [<em>R00183</em>]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>The source image of type <code><a class="el" href="../../d3/d92/group__vx__df__image__e.html#ga19786ae39187f0b21d01e6d4c0e43dd8">VX_DF_IMAGE_U8</a></code> [<em>R00184</em>]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>The destination image of type <code><a class="el" href="../../d3/d92/group__vx__df__image__e.html#ga19786ae39187f0b21d01e6d4c0e43dd8">VX_DF_IMAGE_U8</a></code> [<em>R00185</em>]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The interpolation type to use. Use a <code><a class="el" href="../../d6/d78/group__vx__interpolation__type__e.html">Interpolation Constants</a></code> value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The destination image must have a defined size and format [<em>R00186</em>]. The border modes <code><a class="el" href="../../d8/d3a/group__vx__node__attribute__e.html#ga2e38c5b83023be8180b9539eb0a716e4">VX_NODE_BORDER</a></code> value <code><a class="el" href="../../db/d1b/group__vx__border__e.html#ga72da6ca2dc2b7b4520aaf94557984c06">VX_BORDER_UNDEFINED</a></code>, <code><a class="el" href="../../db/d1b/group__vx__border__e.html#ga794e1b28ebcdbbda2d16640264fca47b">VX_BORDER_REPLICATE</a></code> and <code><a class="el" href="../../db/d1b/group__vx__border__e.html#ga9ec345517f723965e48858485b162146">VX_BORDER_CONSTANT</a></code> are supported [<em>R00187</em>]. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a></code> [<em>R00188</em>]. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">vx_node</td><td>A node reference. Any possible errors preventing a successful creation should be checked using <code><a class="el" href="../../d4/dae/group__group__basic__features.html#ga9ff8fafafe415f56a02e6a1825baac97">vxGetStatus</a></code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2795503f02ce553fca7fcd33f8ee08cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2795503f02ce553fca7fcd33f8ee08cb">&#9670;&nbsp;</a></span>vxHalfScaleGaussianNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a> <a class="el" href="../../d6/d15/group__macros__and__constants.html#gaafbf3083f20518b915e89d73e26fe237">VX_API_CALL</a> vxHalfScaleGaussianNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7f/group__group__graph.html#ga7e71c08b1777e49abaf4417506ca8451">vx_graph</a>&#160;</td>
          <td class="paramname"><em>graph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d09/group__group__image.html#gafaa07841fe324f1c1d5b0f27c27de7b5">vx_image</a>&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dae/group__group__basic__features.html#ga822fc495cb9045d45893eed297d48737">vx_int32</a>&#160;</td>
          <td class="paramname"><em>kernel_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[Graph] Performs a Gaussian Blur on an image then half-scales it. The interpolation mode used is nearest-neighbor. </p>
<p>The output image size is determined by: </p><p class="formulaDsp">
\[ W_{output} = \frac{W_{input} + 1}{2} \\ , H_{output} = \frac{H_{input} + 1}{2} \]
</p>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">graph</td><td>The reference to the graph [<em>R00395</em>]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The input <code><a class="el" href="../../d3/d92/group__vx__df__image__e.html#ga19786ae39187f0b21d01e6d4c0e43dd8">VX_DF_IMAGE_U8</a></code> image [<em>R00396</em>]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>The output <code><a class="el" href="../../d3/d92/group__vx__df__image__e.html#ga19786ae39187f0b21d01e6d4c0e43dd8">VX_DF_IMAGE_U8</a></code> image [<em>R00397</em>]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">kernel_size</td><td>The input size of the Gaussian filter. Supported values are 1, 3 and 5 [<em>R00398</em>].</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="../../d7/d61/group__group__node.html#ga7f1b5d91fac63093ee3a77e87d942f96">vx_node</a></code> [<em>R00399</em>]. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">vx_node</td><td>A node reference. Any possible errors preventing a successful creation should be checked using <code><a class="el" href="../../d4/dae/group__group__basic__features.html#ga9ff8fafafe415f56a02e6a1825baac97">vxGetStatus</a></code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Mar 9 2017 21:39:52 for The OpenVX Specification by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
